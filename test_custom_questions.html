<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>æ¸¬è©¦è‡ªè¨‚é¡Œç›®è¼‰å…¥</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
        .success { color: green; }
        .error { color: red; }
        pre { background: #f5f5f5; padding: 10px; border-radius: 5px; }
        button { padding: 10px 20px; margin: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>ğŸ” è‡ªè¨‚é¡Œç›®è¼‰å…¥æ¸¬è©¦</h1>
    
    <div id="status">è¼‰å…¥ä¸­...</div>
    
    <h2>æ§åˆ¶å°æ—¥èªŒï¼š</h2>
    <pre id="console"></pre>
    
    <h2>é¡Œç›®å…§å®¹ï¼š</h2>
    <button onclick="showQuestions()">é¡¯ç¤ºæ‰€æœ‰é¡Œç›®</button>
    <button onclick="showByCategory()">æŒ‰åˆ†é¡é¡¯ç¤º</button>
    <pre id="questions"></pre>

    <!-- è¼‰å…¥æ‰€æœ‰é¡Œç›®æª”æ¡ˆ -->
    <script src="custom_questions/basic_examples.js"></script>
    <script src="custom_questions/intentions.js"></script>
    <script src="custom_questions/effects.js"></script>
    <script src="custom_questions/laziness.js"></script>
    <script src="custom_questions/colloquial.js"></script>
    <script src="custom_questions/emotions.js"></script>
    <script src="custom_questions_loader.js"></script>
    
    <script>
        const logs = [];
        const originalLog = console.log;
        const originalError = console.error;
        const originalTable = console.table;
        
        console.log = function(...args) {
            logs.push('[LOG] ' + args.join(' '));
            originalLog.apply(console, args);
            updateConsole();
        };
        
        console.error = function(...args) {
            logs.push('[ERROR] ' + args.join(' '));
            originalError.apply(console, args);
            updateConsole();
        };
        
        console.table = function(data) {
            logs.push('[TABLE] ' + JSON.stringify(data, null, 2));
            originalTable.apply(console, arguments);
            updateConsole();
        };
        
        function updateConsole() {
            document.getElementById('console').textContent = logs.join('\n');
        }
        
        function checkStatus() {
            const status = document.getElementById('status');
            
            if (typeof window.customQuestions !== 'undefined' && window.customQuestions.length > 0) {
                status.innerHTML = `<span class="success">âœ… æˆåŠŸè¼‰å…¥ ${window.customQuestions.length} å€‹é¡Œç›®ï¼</span>`;
            } else {
                status.innerHTML = `<span class="error">âŒ å°šæœªè¼‰å…¥é¡Œç›®æˆ–é¡Œç›®ç‚ºç©º</span>`;
            }
        }
        
        function showQuestions() {
            const questionsDiv = document.getElementById('questions');
            if (window.customQuestions) {
                questionsDiv.textContent = JSON.stringify(window.customQuestions, null, 2);
            } else {
                questionsDiv.textContent = 'âŒ window.customQuestions ä¸å­˜åœ¨';
            }
        }
        
        function showByCategory() {
            const questionsDiv = document.getElementById('questions');
            const categories = {
                'åŸºç¤ç¯„ä¾‹': window.basicExamples,
                'æ„é¡˜è¡¨é”': window.intentions,
                'å½±éŸ¿èˆ‡æ”¹è®Š': window.effects,
                'æ‡¶æ•£è¡¨é”': window.laziness,
                'å£èªä¿šèª': window.colloquial,
                'æƒ…æ„Ÿèˆ‡åæ‡‰': window.emotions
            };
            
            let output = '';
            for (const [name, data] of Object.entries(categories)) {
                output += `\n=== ${name} ===\n`;
                output += `é¡Œç›®æ•¸: ${data?.length || 0}\n`;
                if (data && data.length > 0) {
                    output += `ç¬¬ä¸€é¡Œ: ${data[0].question}\n`;
                }
            }
            questionsDiv.textContent = output;
        }
        
        // å®šæœŸæª¢æŸ¥ç‹€æ…‹
        setInterval(checkStatus, 500);
        
        // ç›£è½è‡ªè¨‚é¡Œç›®è¼‰å…¥äº‹ä»¶
        window.addEventListener('customQuestionsLoaded', () => {
            console.log('ğŸ‰ æ”¶åˆ° customQuestionsLoaded äº‹ä»¶ï¼');
            checkStatus();
        });
    </script>
</body>
</html>
